import{r as i,j as e,a3 as mt,a4 as ht,a5 as gt,a6 as ut,a7 as bt,w as pt,X as yt,a8 as ft,a9 as Oe}from"./vendor-react-ClE4BJNQ.js";import{t as T,g as jt,a as Nt,N as t,b,c as le,G as kt,f as vt,d as wt,e as se,h as E,i as Q,R as St,j as ve,k as qe,l as Dt,m as we,r as Ct,n as Pt,o as he}from"./bikram-64piCj7o.js";import{n as ge,T as ce,L as Mt,a as Ge,X as Ce,S as At,b as It,C as ue,P as Ue}from"./data-CCBUbDIn.js";import{t as Lt}from"./vendor-utils-y-iLWhYP.js";const Tt=ge.find(a=>a.romanization.toLowerCase()==="kathmandu"),xe=Tt??ge[0],$t=({label:a,children:l,...d})=>e.jsxs("div",{className:"relative w-full",children:[e.jsx("select",{...d,className:"w-full appearance-none bg-gray-100 border border-gray-300 rounded-md py-2 px-3 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 focus:border-orange-400 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:focus:bg-orange-400 dark:focus:border-orange-400",children:l}),e.jsx("label",{className:"absolute -top-2 left-2.5 bg-gray-100 px-1 text-xs text-gray-500 dark:bg-gray-700 dark:text-gray-400",children:a}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300",children:e.jsx(ue,{className:"w-4 h-4"})})]}),Bt=()=>{const a=gt();return i.useEffect(()=>{const l=setTimeout(()=>{try{a.invalidateSize()}catch{}},150);return()=>clearTimeout(l)},[a]),null},Ft=({onClose:a,onLocationSelect:l,initialPosition:d})=>{const[o,m]=i.useState(d),c=()=>(ut({click(n){m([n.latlng.lat,n.latlng.lng])}}),e.jsx(bt,{position:o})),r=()=>{l(o[0],o[1]),a()};return e.jsx("div",{style:{position:"fixed",inset:0,top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",padding:12},children:e.jsxs("div",{style:{width:"95%",maxWidth:960,height:620,display:"flex",flexDirection:"column",borderRadius:12,overflow:"hidden",background:void 0},className:"bg-slate-50 dark:bg-gray-800 dark:text-gray-200 rounded-lg shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center border-b p-3 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.selectOnMap}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-100",children:e.jsx(Ce,{className:"w-5 h-5"})})]}),e.jsx("div",{style:{flex:1,minHeight:420,display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:e.jsxs(mt,{center:d,zoom:7,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},children:[e.jsx(ht,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.jsx(Bt,{}),e.jsx(c,{})]},`${d[0]}-${d[1]}`)}),e.jsxs("div",{className:"border-t p-3 flex justify-between items-center dark:border-gray-700",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Lat: ",o[0].toFixed(4),", Lon: ",o[1].toFixed(4)]}),e.jsx("button",{onClick:r,className:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 dark:bg-orange-500 dark:text-gray-100 dark:hover:bg-orange-600",children:t.selectLocation})]})]})})},Ye=({children:a})=>e.jsx("div",{className:"grid grid-cols-3 border border-gray-300 rounded-md overflow-hidden divide-x divide-gray-300 focus-within:border-orange-500 focus-within:ring-1 focus-within:ring-orange-500 dark:border-gray-600 dark:divide-gray-600 dark:focus-within:border-orange-400 dark:focus-within:ring-orange-400",children:a}),re=({label:a,children:l,...d})=>e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"absolute top-1 left-2 text-xs text-gray-500 z-10 dark:text-gray-400",children:a}),e.jsx("select",{...d,className:"relative w-full appearance-none bg-gray-100 pt-5 pb-1.5 px-2 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 z-0 dark:bg-gray-700 dark:text-gray-200 dark:focus:bg-gray-600",children:l}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 z-10 dark:text-gray-300",children:e.jsx(ue,{className:"w-4 h-4"})})]}),zt=({label:a,type:l="number",...d})=>e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"absolute top-1 left-2 text-xs text-gray-500 z-10 dark:text-gray-400",children:a}),e.jsx("input",{...d,type:l,className:"relative w-full bg-gray-100 pt-5 pb-1.5 px-2 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 z-0 dark:bg-gray-700 dark:text-gray-200 dark:focus:bg-gray-600"})]}),Et=1900,_t=2150,Rt=1960,Kt=2210,He=i.forwardRef(({onCalculate:a,isLoading:l,hideSubmitButton:d=!1,defaultValues:o,submitLabel:m},c)=>{const r=new Date,n=T(r),[u,p]=i.useState(o?.name||"à¤ªà¥à¤°à¤¯à¥‹à¤—à¤•à¤°à¥à¤¤à¤¾"),[h,x]=i.useState(o?.dateSystem||"BS"),[v,k]=i.useState(!1),[j,S]=i.useState("search"),[D,I]=i.useState(r.getFullYear()),[$,y]=i.useState(r.getMonth()+1),[f,w]=i.useState(r.getDate()),[N,C]=i.useState(o?.bsYear||n.year),[M,Y]=i.useState(o?.bsMonth||n.monthIndex+1),[H,A]=i.useState(o?.bsDay||n.day),B=i.useRef(null),[V,q]=i.useState(!1),[_,ee]=i.useState(null);let L=r.getHours(),R="AM";L===0?(L=12,R="AM"):L===12?R="PM":L>12?(L=L-12,R="PM"):R="AM";const[G,oe]=i.useState(o?.period||R),[P,Ze]=i.useState(o?.hour||L),[Pe,Xe]=i.useState(o?.minute||r.getMinutes()),[Me,Je]=i.useState(o?.second||r.getSeconds()),de=o?.location||xe,[K,Ae]=i.useState(de),[U,be]=i.useState(de.latitude),[W,pe]=i.useState(de.longitude),[ye,te]=i.useState(de.zoneId),[Qe,Ie]=i.useState(!1),[ie,et]=i.useState(""),tt=i.useMemo(()=>{const s=ie.trim().toLowerCase();return s?ge.filter(g=>g.romanization.toLowerCase().includes(s)||g.name.includes(ie.trim())):ge},[ie]);i.useEffect(()=>{if(!(typeof U!="number"||typeof W!="number"||isNaN(U)||isNaN(W)))try{const s=Lt(U,W),g=ce.some(O=>O.zoneId===s);te(g?s:xe?.zoneId??"Asia/Kathmandu")}catch{te(xe?.zoneId??"Asia/Kathmandu")}},[U,W,xe?.zoneId]);const at=i.useMemo(()=>Array.from({length:12},(s,g)=>g+1),[]),Le=i.useMemo(()=>Array.from({length:60},(s,g)=>g),[]),Z=i.useMemo(()=>{const g=(h==="BS"?N:D)||(h==="BS"?n.year:r.getFullYear());return h==="BS"?jt(g,M-1).totalDays:Nt(g,$)},[h,N,M,D,$,n.year,r]);i.useEffect(()=>{h==="BS"&&H>Z&&A(Z),h==="AD"&&f>Z&&w(Z)},[Z,h,H,f]);const st=s=>{const g=s.target.value,F=vt(g).replace(/[^0-9]/g,"");if(F===""){h==="BS"?C(null):I(null);return}const X=parseInt(F,10);isNaN(X)||(h==="BS"?C(X):I(X))},rt=()=>{const s=h==="BS"?N:D;B.current=s,h==="BS"?C(null):I(null)},nt=()=>{const s=h==="BS"?N:D;(s===null||String(s).trim()==="")&&(h==="BS"?C(B.current):I(B.current))},fe=()=>{const s=new Date,g=T(s);I(s.getFullYear()),y(s.getMonth()+1),w(s.getDate()),C(g.year),Y(g.monthIndex+1),A(g.day)},lt=s=>{Ae(s),be(s.latitude),pe(s.longitude),te(s.zoneId),k(!1)},ot=(s,g)=>{be(s),pe(g),Ae({name:`${s.toFixed(4)}, ${g.toFixed(4)}`,romanization:"Manual Selection",latitude:s,longitude:g,zoneId:ye,offset:ce.find(O=>O.zoneId===ye)?.offset??5.75}),k(!1)},Te=()=>{let s=N,g=D;if(s===null&&g===null&&(fe(),s=n.year,g=r.getFullYear()),(h==="BS"?s:D)===null)return null;const F=ae=>ae.toString().padStart(2,"0");let X=g??r.getFullYear(),Fe=$,ze=f;if(h==="BS"){const ae=s??n.year,ke=wt(ae,M-1,H);X=ke.getFullYear(),Fe=ke.getMonth()+1,ze=ke.getDate()}let je=P;G==="PM"&&P<12&&(je+=12),G==="AM"&&P===12&&(je=0);const xt=`${X}-${F(Fe)}-${F(ze)}T${F(je)}:${F(Pe)}:${F(Me)}`,Ee=K.latitude,_e=K.longitude,Ne=K.zoneId,Re=ce.find(ae=>ae.zoneId===Ne),Ke=Re?Re.offset:5.75;return{name:u,datetime:xt,latitude:Ee,longitude:_e,zoneId:Ne,offset:Ke,location:{name:K.name,romanization:K.romanization,latitude:Ee,longitude:_e,zoneId:Ne,offset:Ke},options:{zodiac:"SIDEREAL",ayanamsa:"LAHIRI",houseSystem:"WHOLE_SIGN",divisionalCharts:[9],dashaSystem:"VIMSHOTTARI"}}},dt=()=>{const s=h==="BS"?N:D;if(s===null||String(s).length<4)return!1;const[g,O]=h==="BS"?[Rt,Kt]:[Et,_t];return!(s<g||s>O)},$e=()=>new Promise(s=>{dt()?s(Te()):(fe(),q(!0),ee(()=>s))});i.useImperativeHandle(c,()=>({validateAndGetData:$e}));const it=()=>{q(!1);const s=Te();_&&(_(s),ee(null))},ct=()=>{q(!1),_&&(_(null),ee(null))},Be=async s=>{s&&s.preventDefault();const g=await $e();g&&a(g)};return i.useEffect(()=>{if(o?.autoSubmit){const s=setTimeout(()=>Be(),500);return()=>clearTimeout(s)}},[o]),e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:Be,className:"space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",id:"name",value:u,onChange:s=>p(s.target.value),required:!0,className:"w-full bg-gray-100 border border-gray-300 rounded-md py-2 px-3 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 focus:border-orange-400 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 dark:focus:bg-gray-600 dark:focus:border-orange-400"}),e.jsx("label",{htmlFor:"name",className:"absolute -top-2 left-2.5 bg-gray-100 px-1 text-xs text-gray-500 dark:bg-gray-700 dark:text-gray-400",children:t.name})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex p-1 bg-gray-200 dark:bg-gray-700 rounded-md",children:[e.jsx("button",{type:"button",onClick:()=>{x("BS")},className:`px-4 py-1 text-sm rounded ${h==="BS"?"bg-orange-600 text-white":"text-gray-600 dark:text-gray-300"}`,children:t.bs}),e.jsx("button",{type:"button",onClick:()=>{x("AD")},className:`px-4 py-1 text-sm rounded ${h==="AD"?"bg-orange-600 text-white":"text-gray-600 dark:text-gray-300"}`,children:t.ad})]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsxs(Ye,{children:[e.jsx(zt,{label:t.year,value:h==="BS"?b(N??""):D??"",onChange:st,onFocus:rt,onBlur:nt,type:"tel",inputMode:"numeric",autoComplete:"off"}),e.jsx(re,{label:t.month,value:h==="BS"?M:$,onChange:s=>h==="BS"?Y(Number(s.target.value)):y(Number(s.target.value)),children:Array.from({length:12},(s,g)=>e.jsx("option",{value:g+1,children:h==="BS"?le[g]:kt[g]},g+1))}),e.jsx(re,{label:t.day,value:h==="BS"?H:f,onChange:s=>h==="BS"?A(Number(s.target.value)):w(Number(s.target.value)),children:Array.from({length:Z},(s,g)=>e.jsx("option",{value:g+1,children:b(g+1)},g+1))})]})}),e.jsx("button",{type:"button",onClick:fe,className:"px-3 py-2 text-sm bg-gray-200 dark:bg-gray-600 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500","aria-label":t.resetToToday,children:t.resetToToday})]})}),e.jsxs(Ye,{children:[e.jsx(re,{label:t.hour,value:P,onChange:s=>Ze(Number(s.target.value)),children:at.map(s=>e.jsx("option",{value:s,children:b(s)},s))}),e.jsx(re,{label:t.minute,value:Pe,onChange:s=>Xe(Number(s.target.value)),children:Le.map(s=>e.jsx("option",{value:s,children:b(s)},s))}),e.jsx(re,{label:t.second,value:Me,onChange:s=>Je(Number(s.target.value)),children:Le.map(s=>e.jsx("option",{value:s,children:b(s)},s))})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex p-1 bg-gray-200 dark:bg-gray-700 rounded-md",children:[e.jsx("button",{type:"button",onClick:()=>oe("AM"),className:`px-4 py-1 text-sm rounded ${G==="AM"?"bg-orange-600 text-white":"text-gray-600 dark:text-gray-300"}`,children:t.am}),e.jsx("button",{type:"button",onClick:()=>oe("PM"),className:`px-4 py-1 text-sm rounded ${G==="PM"?"bg-orange-600 text-white":"text-gray-600 dark:text-gray-300"}`,children:t.pm})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"absolute -top-2 left-2.5 bg-gray-100 px-1 text-xs text-gray-500 dark:bg-gray-700 dark:text-gray-400 z-10",children:t.location}),e.jsxs("button",{type:"button",onClick:()=>{k(!0),S("search")},className:"w-full bg-gray-100 border border-gray-300 rounded-md py-2 px-3 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 focus:border-orange-400 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 flex justify-between items-center text-left",children:[e.jsxs("span",{children:[K.name," ",e.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:["(",K.romanization,")"]})]}),e.jsx(Mt,{className:"w-4 h-4 text-gray-500"})]})]}),!d&&e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center items-center py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:bg-gray-400 disabled:cursor-not-allowed dark:bg-orange-600 dark:hover:bg-orange-700 dark:disabled:bg-gray-500",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"w-5 h-5 mr-3 animate-spin"}),t.calculating]}):m||t.calculate})})]}),v&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center bg-black/60 z-50 p-4 pt-8 sm:pt-8 transition-opacity",onClick:()=>k(!1),children:e.jsxs("div",{className:"bg-slate-200 dark:bg-gray-800 w-full h-3/6 sm:h-3/5 sm:max-h-[90vh] sm:rounded-lg shadow-xl max-w-lg p-4 flex flex-col transition-transform",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold",children:j==="search"?t.searchOrSelectLocation:t.enterManually}),e.jsx("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-100",children:e.jsx(Ce,{className:"w-5 h-5"})})]}),j==="search"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative my-4",children:[e.jsx(At,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:t.locationSearchPlaceholder,value:ie,onChange:s=>et(s.target.value),className:"w-full bg-gray-100 border border-gray-300 rounded-md py-2 pl-10 pr-3 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 focus:border-orange-400 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 dark:focus:bg-gray-600 dark:focus:border-orange-400"})]}),e.jsx("div",{className:"overflow-y-auto flex-1",children:tt.map(s=>e.jsxs("div",{onClick:()=>lt(s),className:"p-2.5 cursor-pointer hover:bg-orange-100 dark:hover:bg-orange-900/50 rounded-md text-sm flex justify-between",children:[e.jsx("span",{children:s.name}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:s.romanization})]},s.name))}),e.jsx("div",{className:"pt-3 mt-3 border-t dark:border-gray-700 text-center",children:e.jsxs("button",{onClick:()=>S("manual"),className:"text-sm text-orange-600 dark:text-orange-400 hover:underline",children:[t.cantFindLocation," ",t.enterManuallyOrMap]})})]}):e.jsxs("div",{className:"pt-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",step:"0.0001",id:"latitude",value:U,onChange:s=>be(parseFloat(s.target.value)),required:!0,className:"w-full bg-gray-100 border border-gray-300 rounded-md py-2 px-3 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 focus:border-orange-400 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 dark:focus:bg-gray-600 dark:focus:border-orange-400"}),e.jsx("label",{htmlFor:"latitude",className:"absolute -top-2 left-2.5 bg-slate-200 px-1 text-xs text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:t.latitudeShort})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",step:"0.0001",id:"longitude",value:W,onChange:s=>pe(parseFloat(s.target.value)),required:!0,className:"w-full bg-gray-100 border border-gray-300 rounded-md py-2 px-3 text-sm text-gray-800 focus:outline-none focus:bg-slate-200 focus:border-orange-400 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 dark:focus:bg-gray-600 dark:focus:border-orange-400"}),e.jsx("label",{htmlFor:"longitude",className:"absolute -top-2 left-2.5 bg-slate-200 px-1 text-xs text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:t.longitudeShort})]})]}),e.jsx($t,{label:t.timezone,value:ye,onChange:s=>te(s.target.value),children:ce.map(s=>e.jsx("option",{value:s.zoneId,children:s.label},s.zoneId))}),e.jsxs("button",{type:"button",onClick:()=>Ie(!0),className:"w-full flex justify-center items-center gap-2 py-2 bg-gray-200 hover:bg-gray-300 rounded-md dark:bg-gray-600 dark:hover:bg-gray-500","aria-label":t.selectOnMap,children:[e.jsx(It,{className:"w-5 h-5"})," ",t.selectOnMap]}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:()=>S("search"),className:"text-sm text-orange-600 dark:text-orange-400 hover:underline",children:["â† ",t.backToSearch]})})]})]})}),Qe&&e.jsx(Ft,{onClose:()=>Ie(!1),onLocationSelect:ot,initialPosition:[U,W]}),V&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50 p-4 transition-opacity",children:e.jsxs("div",{className:"bg-slate-200 dark:bg-gray-800 rounded-lg shadow-xl max-w-sm w-full p-6 text-center",onClick:s=>s.stopPropagation(),children:[e.jsx("h3",{className:"text-lg font-semibold text-amber-700 dark:text-amber-400",children:t.invalidDateTitle}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:t.invalidDateMessage(h)}),e.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[e.jsx("button",{onClick:ct,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-300 rounded-md hover:bg-gray-400 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500",children:t.edit}),e.jsx("button",{onClick:it,className:"px-4 py-2 text-sm font-medium text-white bg-blue-500 rounded-md hover:bg-blue-600",children:t.proceed})]})]})})]})}),Ot=({cx:a,cy:l,onSelect:d})=>e.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 400 400",children:[e.jsx("defs",{children:e.jsx("path",{id:"lotus-petal",d:`M 200 200
             C 150 150, 150 50, 200 0
             C 250 50, 250 150, 200 200 Z`})}),Array.from({length:12},(o,m)=>e.jsx("use",{href:"#lotus-petal",fill:"transparent",className:"overlay-wedge",style:{cursor:"pointer",pointerEvents:"auto"},transform:`rotate(${-m*30-90}, ${a}, ${l})`,onClick:()=>d(m+1)},m))]}),Yt={10:0,11:-30,12:-60,1:-90,2:-120,3:-150,4:-180,5:-210,6:-240,7:-270,8:-300,9:-330};function me(a){const l=Math.floor(a),d=Math.floor((a-l)*60);return`${b(l)}Â°${b(d)}â€²`}function Ve(a){const l=Math.round(a/30*100);return`${b(l)}%`}const Ht=({planets:a,ascendantSign:l,ascendantDegrees:d,ascendantNakshatra:o,ascendantNakshatraPada:m,chartType:c="lagna"})=>{const[r,n]=i.useState(null),u=a.find(x=>x.planet==="MOON"),p=u?.rashi??1,h=i.useMemo(()=>{const x=new Map;return a.forEach(v=>{const k=v.rashi,j=c==="chandra"?(k-p+12)%12+1:k;x.has(j)||x.set(j,[]),x.get(j).push(v)}),x},[a,c,p]);return e.jsxs("div",{className:"birth-chart-wrapper text-stone-800 dark:text-stone-100",children:[e.jsxs("div",{className:"birth-chart",children:[Array.from({length:12},(x,v)=>v+1).map(x=>{const v=h.get(x)||[],k=Yt[x];if(k===void 0)return null;const j=[];return c!=="chandra"&&x===l&&j.push(e.jsxs("div",{className:"planet-item ascendant",children:[e.jsx("span",{children:se.ASCENDANT}),d!==void 0&&e.jsx("span",{className:"planet-deg",children:me(d)})]},"asc")),c==="chandra"&&x===1&&j.push(e.jsx("div",{className:"planet-item ascendant",children:e.jsxs("span",{children:[se.ASCENDANT," (à¤šà¤¨à¥à¤¦à¥à¤°)"]})},"asc-chandra")),v.forEach(S=>{j.push(e.jsxs("div",{className:"planet-item",children:[e.jsx("span",{className:S.retrograde?"retrograde":"",children:se[S.planet]}),S.degreesInSign!==void 0&&e.jsx("span",{className:"planet-deg",children:me(S.degreesInSign)})]},S.planet))}),e.jsxs("div",{className:"petal",style:{transform:`translateX(-50%) rotate(${k}deg)`},children:[e.jsx("div",{className:"rashi-number font-semibold",children:b(x)}),e.jsx("div",{className:"planets-container",children:j})]},x)}),e.jsx("div",{className:"chart-center-dot text-2xl font-bold dark:text-red-400",children:"à¥"}),e.jsx(Ot,{cx:200,cy:200,onSelect:x=>n(x)})]}),r&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",onClick:()=>n(null),children:e.jsxs("div",{className:"bg-slate-200 dark:bg-gray-800 dark:text-stone-100 rounded-lg shadow-lg p-6 max-w-md w-full transition-colors duration-300",onClick:x=>x.stopPropagation(),children:[e.jsxs("h3",{className:"font-bold text-lg mb-2 text-blue-600 dark:text-blue-400",children:["à¤˜à¤° ",b(r)," â€“ ",E[r-1]," (à¤¸à¥à¤µà¤¾à¤®à¥€:"," ",Q[St[r]],")"]}),c!=="chandra"&&r===l&&d!==void 0&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-stone-800 dark:text-stone-100",children:[e.jsxs("span",{children:[se.ASCENDANT," (",E[l-1],")"]}),e.jsxs("span",{children:[me(d)," (",Ve(d),")"]})]}),o&&m&&e.jsxs("div",{className:"text-sm ml-2 text-gray-600 dark:text-gray-400",children:[ve[o],b(m)]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-2 rounded",children:e.jsx("div",{className:"bg-green-500 h-2 rounded",style:{width:`${Math.round(d/30*100)}%`}})})]}),c==="chandra"&&r===1&&u&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"flex justify-between text-stone-800 dark:text-stone-100",children:e.jsxs("span",{children:[se.ASCENDANT," (à¤šà¤¨à¥à¤¦à¥à¤°)"]})}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-2 rounded",children:e.jsx("div",{className:"bg-green-500 h-2 rounded",style:{width:`${Math.round((u.degreesInSign||0)/30*100)}%`}})}),u.nakshatra&&u.nakshatraPada&&e.jsxs("div",{className:"text-sm text-red-600 dark:text-red-400 font-semibold mt-1",children:["à¤œà¤¨à¤® à¤¨à¤•à¥à¤·à¤¤à¥à¤°:"," ",ve[u.nakshatra],b(u.nakshatraPada)]})]}),(h.get(r)||[]).map(x=>{if(c==="chandra"&&r===1&&x.planet==="MOON")return null;const v=x.degreesInSign!==void 0?Math.round(x.degreesInSign/30*100):null;return e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-stone-800 dark:text-stone-100",children:[e.jsx("span",{className:x.retrograde?"font-bold text-blue-600 dark:text-blue-400":"",children:Q[x.planet]}),x.degreesInSign!==void 0&&e.jsxs("span",{children:[me(x.degreesInSign)," (",Ve(x.degreesInSign),")"]})]}),x.nakshatra&&x.nakshatraPada&&e.jsxs("div",{className:"text-sm ml-2 text-gray-600 dark:text-gray-400",children:[ve[x.nakshatra],b(x.nakshatraPada)]}),v!==null&&e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-2 rounded",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded",style:{width:`${v}%`}})})]},x.planet)})]})})]})},Vt=({planets:a})=>e.jsxs("div",{className:"kundali-card p-4 sm:p-6 rounded-lg overflow-x-auto dark:bg-gray-800 dark:text-stone-100 transition-colors duration-300 print:bg-white print:shadow-none print:border-none",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-400 dark:text-blue-400 mb-4",children:t.planetaryPositions}),e.jsxs("table",{className:"w-full text-left text-sm sm:text-base",children:[e.jsx("thead",{className:"border-b-2 border-amber-200 dark:border-amber-700 text-stone-600 dark:text-stone-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-2",children:t.planet}),e.jsx("th",{className:"py-2 px-2",children:t.rashi}),e.jsx("th",{className:"py-2 px-2",children:t.degrees}),e.jsx("th",{className:"py-2 px-2",children:t.nakshatra}),e.jsx("th",{className:"py-2 px-2",children:t.pada})]})}),e.jsx("tbody",{children:a.map(l=>e.jsxs("tr",{className:"border-b border-amber-100 dark:border-stone-700 hover:bg-amber-50/70 dark:hover:bg-gray-800 transition-colors duration-200",children:[e.jsxs("td",{className:"py-2 px-2 font-medium text-stone-800 dark:text-stone-100",children:[Q[l.planet],l.retrograde&&e.jsxs("span",{className:"text-blue-600 dark:text-blue-400 ml-1",children:["(",t.retrograde,")"]})]}),e.jsx("td",{className:"py-2 px-2",children:E[l.rashi-1]}),e.jsx("td",{className:"py-2 px-2 font-mono",children:qe(l.degreesInSign)}),e.jsx("td",{className:"py-2 px-2",children:l.nakshatra}),e.jsx("td",{className:"py-2 px-2",children:b(l.nakshatraPada)})]},l.planet))})]})]}),De=({data:a,title:l,titleClassName:d})=>{const o=f=>{if(!f)return"?";try{const w=new Date(f),N=w.getUTCHours(),C=w.getUTCMinutes(),M=Pt(N),Y=N%12===0?12:N%12;return`${b(Y)}:${b(C.toString().padStart(2,"0"))} ${M}`}catch{return"?"}};function m(f){let w,N;if(f>=1&&f<=15)w=f,N="à¤¶à¥à¤•à¥à¤² à¤ªà¤•à¥à¤·";else if(f>=16&&f<=30)w=f-15,N="à¤•à¥ƒà¤·à¥à¤£ à¤ªà¤•à¥à¤·";else return`à¤…à¤µà¥ˆà¤§ à¤¤à¤¿à¤¥à¤¿ (${f})`;return Ct(w,N)}const c=(f,w,N)=>{if(!f||!w||!N)return"?";try{const C=oe=>{const P=new Date(oe);return new Date(P.getUTCFullYear(),P.getUTCMonth(),P.getUTCDate(),P.getUTCHours(),P.getUTCMinutes(),P.getUTCSeconds())},M=C(N),Y=C(f),H=C(w),A=T(M),B=T(Y),V=T(H),q=o(f),_=o(w),ee=B.year===A.year&&B.monthIndex===A.monthIndex&&B.day===A.day,L=V.year===A.year&&V.monthIndex===A.monthIndex&&V.day===A.day,R=ee?q:`${b(B.day)} à¤—à¤¤à¥‡ ${q}`,G=L?_:`${b(V.day)} à¤—à¤¤à¥‡ ${_}`;return`${R} à¤¦à¥‡à¤–à¤¿ ${G} à¤¸à¤®à¥à¤®`}catch{return"N/A"}},r=a.planets.find(f=>f.planet==="MOON"),n=a.planets.find(f=>f.planet==="SUN"),u=new Date(a.birthDetails.datetime),p=T(u),h=`${b(p.year)} ${le[p.monthIndex]} ${b(p.day)}`,x=Dt[u.getDay()],v=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(u),k=new Intl.DateTimeFormat("ne-NP",{hour:"numeric",minute:"numeric",hour12:!0}).format(u),j=we[a.nakshatra.index],S=j?j.syllables[a.nakshatra.pada-1]:"?";function D(f,w){const N=we.findIndex(M=>M.name===f);return N===-1?"?":we[N].syllables[w-1]||"?"}const I=r?D(r.nakshatra,r.nakshatraPada):"?",$=E[a.ascendant.sign-1],y=qe(a.ascendant.degreesInSign);return e.jsxs("div",{className:"kundali-card p-4 sm:p-6 rounded-lg h-full bg-slate-200 print:bg-white dark:bg-gray-800 print:shadow-none print:border-none",children:[e.jsx("h3",{className:`text-xl font-bold mb-4 text-center ${d||"text-blue-400 dark:text-blue-400"}`,children:l||t.birthDetails}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[e.jsxs("div",{className:"flex gap-1 items-start ",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.birthDateBS,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:h})]}),e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.birthDateAD,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:v})]}),e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.birthTime,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:k})]}),e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.dayOfWeek,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:x})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-amber-200 dark:border-amber-700",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-400 dark:text-blue-400 mb-3",children:t.dailyTimings}),e.jsxs("div",{className:"grid grid-cols-[auto_1fr] sm:grid-cols-[auto_1fr_auto_1fr] items-center gap-x-4 gap-y-2 text-sm",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[t.sunrise,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100 text-left",children:b(a.sunRise)}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right sm:text-right",children:[t.sunset,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100 text-left",children:b(a.sunSet)})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-amber-200 dark:border-amber-700",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-400 dark:text-blue-400 mb-3",children:t.astrologicalDetails}),e.jsxs("div",{className:"grid grid-cols-[auto_1fr] items-center gap-x-4 gap-y-3 text-sm",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[t.lagna,":"]}),e.jsxs("span",{className:"font-semibold text-stone-800 dark:text-stone-100 text-left",children:[$," (",y,")"]}),a.ashtaKoota.lagnesh&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[t.lagnesh,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100 text-left",children:a.ashtaKoota.lagnesh})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[t.moonSign,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100 text-left",children:E[r.rashi-1]})]}),a.ashtaKoota.rashiLord&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[t.rashiLord,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100 text-left",children:a.ashtaKoota.rashiLord})]}),n&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[t.sunSign,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100 text-left",children:E[n.rashi-1]})]}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[t.birthNakshatra,":"]}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:a.nakshatra.nameNepali}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:c(a.nakshatra.start,a.nakshatra.end,a.birthDetails.datetime)}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsxs("span",{className:"font-semibold",children:["à¤ªà¤¦ ",b(a.nakshatra.pada),": "]}),c(a.nakshatra.padaStart,a.nakshatra.padaEnd,a.birthDetails.datetime)]}),r&&(a.nakshatra.nameNepali!==r.nakshatra||a.nakshatra.pada!==r.nakshatraPada)&&e.jsxs("span",{className:"font-semibold text-green-700 dark:text-green-600",children:[t.modernAstroInfo,": ",t.nakshatra,": ",r.nakshatra," ",t.pada,": ",b(r.nakshatraPada)]})]}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[t.tithi,":"]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:[a.tithi.paksha,"  ",m(a.tithi.tithiNumber),"(",b(a.tithi.tithiNumber),")"]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:c(a.tithi.start,a.tithi.end,a.birthDetails.datetime)})]}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[t.yoga,":"]}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:a.yoga.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:c(a.yoga.start,a.yoga.end,a.birthDetails.datetime)})]}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[t.karana,":"]}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:a.karana.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:c(a.karana.start,a.karana.end,a.birthDetails.datetime)})]}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400 text-right",children:[t.suggestedSyllable,":"]}),e.jsx("span",{className:"font-bold text-amber-600 dark:text-amber-600 text-lg text-left",children:S})]}),r&&(a.nakshatra.nameNepali!==r.nakshatra||a.nakshatra.pada!==r.nakshatraPada)&&e.jsxs("span",{className:"font-semibold text-green-700 dark:text-green-600",children:[t.modernAstroInfo,": ",I]})]}),a.ashtaKoota&&e.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-amber-200 dark:border-amber-700",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-400 dark:text-blue-400 mb-3",children:t.gunaMilanDetails}),e.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto_1fr] sm:grid-cols-[auto_1fr_auto_1fr_auto_1fr] gap-x-4 gap-y-2 text-sm items-baseline",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.varna,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:a.ashtaKoota.varna}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.vasya,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:a.ashtaKoota.vasya}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.gana,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:a.ashtaKoota.gana}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.yoni,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:a.ashtaKoota.yoni}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.nadi,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:a.ashtaKoota.nadi}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.tatva,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:a.ashtaKoota.tatva}),e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.paya,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:a.ashtaKoota.paya})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t-2 border-amber-200 dark:border-amber-700",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-400 dark:text-blue-400 mb-2",children:t.calculationDetails}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.backend,":"]}),e.jsxs("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:[a.calculationMeta.backend,": ",a.calculationMeta.version]})]}),e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.ayanamsa,":"]}),e.jsxs("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:[a.calculationMeta.ayanamsa," (",a.calculationMeta.ayanamsaString,")"]})]}),e.jsxs("div",{className:"flex gap-1 items-start",children:[e.jsxs("span",{className:"text-stone-500 dark:text-stone-400",children:[t.houseSystem,":"]}),e.jsx("span",{className:"font-semibold text-stone-800 dark:text-stone-100",children:a.calculationMeta.houseSystem})]})]})]})]})},J=a=>{if(!a||a==="N/A")return"N/A";try{const l=new Date(a);if(isNaN(l.getTime()))return"N/A";const d=T(l),o=b(d.year.toString()),m=le[d.monthIndex],c=b(d.day.toString());return`${o} ${m} ${c}`}catch(l){return console.error("Date formatting error:",l),"N/A"}},ne=({dashaSequence:a,title:l})=>{const[d,o]=i.useState(null),m=l===t.jaiminiDasha,c=r=>{o(n=>n===r?null:r)};return e.jsxs("div",{className:"kundali-card p-2 sm:p-6 mb-11 print:mb-2 rounded-lg bg-slate-200 dark:bg-gray-800 break-inside-avoid-page page-break-inside-avoid print:bg-white print:shadow-none print:border-none",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-400 dark:text-blue-400 mb-4 print:hidden",children:l}),m&&e.jsx("p",{className:"text-xs text-stone-500 dark:text-stone-400 -mt-3 mb-3 px-2 print:hidden",children:t.jaiminiProportionalNote}),e.jsx("div",{className:"print:hidden",children:e.jsxs("table",{className:"w-full text-left text-sm sm:text-base border-collapse",children:[e.jsx("thead",{className:"border-b-2 border-amber-200 dark:border-amber-700 text-stone-600 dark:text-stone-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-2",children:m?"à¤¦à¤¶à¤¾ à¤°à¤¾à¤¶à¤¿":t.mahaDasha}),e.jsx("th",{className:"py-2 px-2",children:t.startsOn}),e.jsx("th",{className:"py-2 px-2",children:t.endsOn})]})}),e.jsx("tbody",{children:a.map(r=>{const n=r.planet+r.start,u=r.subDashas&&r.subDashas.length>0;return e.jsxs(pt.Fragment,{children:[e.jsxs("tr",{className:`border-b border-amber-100 dark:border-amber-800 ${u?"cursor-pointer hover:bg-amber-50/70 dark:hover:bg-amber-900/40":""}`,onClick:()=>u&&c(n),"aria-expanded":u&&d===n,"aria-controls":`antardasha-${n}`,children:[e.jsxs("td",{className:"py-2 px-2 font-medium text-stone-800 dark:text-stone-100 flex items-center relative",children:[u&&e.jsxs("div",{className:"relative group",children:[e.jsx(ue,{className:`w-4 h-4 mr-2 text-amber-700 dark:text-blue-400 transition-transform duration-300 ${d===n?"rotate-180":""}`}),e.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-1 px-2 py-1 bg-zinc-800 text-white text-xs rounded shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-[999] dark:bg-gray-800 dark:text-stone-200",children:t.antarDasha_clickToExpand})]}),e.jsx("span",{className:`z-0 ${u?"":"ml-6"}`,children:m?r.planet:Q[r.planet]})]}),e.jsx("td",{className:"py-2 px-2 text-stone-700 dark:text-stone-200",children:J(r.start)}),e.jsx("td",{className:"py-2 px-2 text-stone-700 dark:text-stone-200",children:J(r.end)})]}),u&&e.jsx("tr",{className:"bg-slate-200 dark:bg-gray-800",children:e.jsx("td",{colSpan:3,className:"p-0 border-none",children:e.jsx("div",{id:`antardasha-${n}`,className:`overflow-hidden transition-all duration-500 ease-in-out ${d===n?"max-h-[1000px]":"max-h-0"}`,children:e.jsxs("div",{className:"p-4 bg-amber-50/50 dark:bg-amber-900/20",children:[e.jsx("h4",{className:"font-semibold text-blue-400 dark:text-blue-400 mb-2 pl-2",children:m?"à¤…à¤¨à¥à¤¤à¤°à¤¦à¤¶à¤¾ à¤°à¤¾à¤¶à¤¿":t.antarDasha}),e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"text-stone-500 dark:text-stone-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"font-medium py-1 px-2 text-left",children:m?"à¤°à¤¾à¤¶à¤¿":t.planet}),e.jsx("th",{className:"font-medium py-1 px-2 text-left",children:t.startsOn}),e.jsx("th",{className:"font-medium py-1 px-2 text-left",children:t.endsOn})]})}),e.jsx("tbody",{children:r.subDashas.map(p=>e.jsxs("tr",{className:"border-b border-amber-100 dark:border-amber-800 last:border-b-0",children:[e.jsx("td",{className:"py-1.5 px-2 text-stone-800 dark:text-stone-100",children:m?p.planet:Q[p.planet]}),e.jsx("td",{className:"py-1.5 px-2 text-stone-700 dark:text-stone-200",children:J(p.start)}),e.jsx("td",{className:"py-1.5 px-2 text-stone-700 dark:text-stone-200",children:J(p.end)})]},p.planet+p.start))})]})]})})})})]},n)})})]})}),e.jsxs("div",{className:"hidden print:block mt-1",children:[e.jsx("h4",{className:"text-lg font-semibold mb-1 text-stone-800",children:l}),m&&e.jsx("p",{className:"text-xs text-stone-500 -mt-1 mb-1 px-2 italic",children:t.jaiminiProportionalNote}),e.jsxs("table",{className:"w-full text-left text-sm border-collapse mb-1",children:[e.jsx("thead",{className:"border-b-2 border-stone-400 text-stone-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-1 px-2",children:m?"à¤¦à¤¶à¤¾ à¤°à¤¾à¤¶à¤¿":t.mahaDasha}),e.jsx("th",{className:"py-1 px-2",children:t.startsOn}),e.jsx("th",{className:"py-1 px-2",children:t.endsOn})]})}),e.jsx("tbody",{children:a.slice(0,12).map(r=>e.jsxs("tr",{className:"border-b border-stone-200",children:[e.jsx("td",{className:"py-1 px-2 font-medium text-stone-800",children:m?r.planet:Q[r.planet]}),e.jsx("td",{className:"py-1 px-2 text-stone-700",children:J(r.start)}),e.jsx("td",{className:"py-1 px-2 text-stone-700",children:J(r.end)})]},`print-${r.planet}-${r.start}`))})]}),e.jsx("p",{className:"text-xs text-stone-600 px-2 italic",children:t.subDashaPrintNote})]})]})},We=({isOpen:a,onClose:l,onPrint:d})=>{const[o,m]=i.useState("confirm"),[c,r]=i.useState(5),n=typeof window<"u"&&!!window.Android;i.useEffect(()=>{a&&(m("confirm"),r(5))},[a]),i.useEffect(()=>{let h;return o==="countdown"&&c>0?h=setTimeout(()=>r(x=>x-1),1e3):o==="countdown"&&c===0&&m("ready"),()=>clearTimeout(h)},[o,c]);const u=()=>{n&&window.Android?.triggerFullScreenAd?(window.Android.triggerFullScreenAd(),m("countdown")):(d(),l())},p=()=>{n&&window.Android?.printPage?window.Android.printPage():d(),l()};return!a||!n?null:e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-sm w-full p-6 relative animate-in fade-in zoom-in duration-200",children:[e.jsx("button",{onClick:l,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx(yt,{size:20})}),o==="confirm"&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto bg-blue-100 dark:bg-blue-900/30 w-12 h-12 rounded-full flex items-center justify-center mb-4",children:e.jsx(ft,{className:"text-blue-600 dark:text-blue-400",size:24})}),e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-2",children:["Support ",t.project]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-6",children:"Please watch a short ad to print this document. Your support helps us keep the app free."}),e.jsx("button",{onClick:u,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:"Watch Ad & Print"})]}),o==="countdown"&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400 mb-2 animate-pulse",children:c}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Preparing print..."}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Please wait for the ad to finish"})]}),o==="ready"&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto bg-green-100 dark:bg-green-900/30 w-12 h-12 rounded-full flex items-center justify-center mb-4",children:e.jsx(Oe,{className:"text-green-600 dark:text-green-400",size:24})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Ready to Print"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-6",children:"Thank you for your support!"}),e.jsxs("button",{onClick:p,className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium shadow-md transition-all active:scale-95 flex items-center justify-center gap-2",children:[e.jsx(Oe,{size:18})," Print Now"]})]})]})})},Se=({chart:a})=>{if(!a.chartData)return null;const l="planets"in a.chartData?a.chartData.planets:[],d="ascendant"in a.chartData?a.chartData.ascendant.sign:1,o="ascendant"in a.chartData?a.chartData.ascendant.degreesInSign:void 0,m="ascendant"in a.chartData?a.chartData.ascendant.nakshatra:void 0,c="ascendant"in a.chartData?a.chartData.ascendant.nakshatraPada:void 0;return e.jsxs("div",{className:"chart-instance dark:bg-gray-800 break-inside-avoid-page page-break-inside-avoid print:mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1 text-center dark:text-orange-400",children:a.title}),e.jsx("div",{className:"chart-card dark:bg-gray-800 rounded-lg p-2 transition-colors duration-300",children:e.jsx(Ht,{planets:l.map(r=>({planet:r.planet,rashi:"rashi"in r?r.rashi:r.sign,degreesInSign:"degreesInSign"in r?r.degreesInSign:void 0,retrograde:r.retrograde,nakshatra:r.nakshatra,nakshatraPada:r.nakshatraPada})),ascendantSign:d,ascendantDegrees:o,ascendantNakshatra:m,ascendantNakshatraPada:c,chartType:a.type})})]},a.title)},Jt=({data:a,onReturnToForm:l,onNavigate:d})=>{const[o,m]=i.useState(!1),[c,r]=i.useState(!1),n=a.divisionalCharts.find(y=>y.name.includes("D9")),u=a.divisionalCharts.find(y=>y.name.includes("D10")),p=a.divisionalCharts.find(y=>y.name.includes("D3")),h=a.divisionalCharts.find(y=>y.name.includes("D12")),x=a.divisionalCharts.find(y=>y.name.includes("D4")),v=a.divisionalCharts.find(y=>y.name.includes("D60")),k=[{type:"lagna",title:t.rashiChart,chartData:a},{type:"chandra",title:t.chandraChart,chartData:a},{type:"navamsha",title:t.navamsaChart,chartData:n},{type:"dashamsa",title:t.dashamsaChart,chartData:u}],j=[{type:"drekkana",title:t.drekkanaChart,chartData:p},{type:"dwadamsha",title:t.dwadamshaChart,chartData:h},{type:"chaturthamsha",title:t.chaturthamshaChart,chartData:x},{type:"shashtiamsha",title:t.shashtiamshaChart,chartData:v}].filter(y=>y.chartData),S=new Date,D=T(S),I=`${b(D.year)} ${le[D.monthIndex]} ${b(D.day)}`,$=S.toLocaleTimeString("ne-NP",{hour:"numeric",minute:"2-digit",hour12:!0});return e.jsxs("div",{className:"kundali-display-container flex flex-col bg-slate-200 print:bg-white rounded-xl shadow-lg print:shadow-none w-full lg:max-w-4xl xl:max-w-6xl lg:p-4 md:p-1 space-y-4 text-sm md:text-base dark:bg-gray-800 dark:text-gray-200 dark:border dark:border-gray-700 pb-32 print:pb-2 print:space-y-2",children:[e.jsxs("header",{className:"kundali-card rounded-lg text-center dark:bg-gray-800 dark:text-orange-400 transition-colors duration-300 print:bg-white print:shadow-none",children:[e.jsx("h2",{className:"text-3xl self-center font-bold text-orange-600 dark:text-orange-400",children:t.kundaliOf(a.birthDetails.name)}),e.jsxs("div",{className:"hidden text-xs self-center print:block font-bold text-gray-700 dark:text-gray-400",children:[t.printedDate,": ",I," ",$]}),e.jsx("div",{className:"mt-2 text-xs text-orange-600 dark:text-orange-400 text-center px-2",children:t.kundaliDisclaimer})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 print:gap-2",children:e.jsxs("div",{className:"flex flex-col gap-4 print:gap-2",children:[e.jsx("div",{className:"kundali-card p-4 print:p-2 rounded-lg bg-slate-200 print:bg-white dark:bg-gray-800 shadow print:shadow-none print:border print:border-gray-300",children:e.jsx(De,{data:a})}),e.jsx("div",{className:"kundali-card p-4 print:p-2 rounded-lg bg-slate-200 print:bg-white dark:bg-gray-800 shadow print:shadow-none print:border print:border-gray-300",children:e.jsx(Vt,{planets:a.planets})})]})}),e.jsxs("div",{className:"print:break-inside-avoid-page",children:[e.jsxs("div",{className:"print:hidden",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:k.map(y=>e.jsx(Se,{chart:y},y.type))}),j.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-6 mt-6 transition-all duration-500 overflow-hidden ${o?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:o&&j.map(y=>e.jsx(Se,{chart:y},y.type))}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("button",{onClick:()=>m(!o),className:"flex items-center justify-center gap-2 mx-auto px-4 py-2 text-sm font-medium text-orange-600 dark:text-orange-400 bg-orange-100/50 dark:bg-orange-900/20 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/40 transition",children:[e.jsx("span",{children:o?t.showLessCharts:t.showMoreCharts}),e.jsx(ue,{className:`w-4 h-4 transition-transform duration-300 ${o?"rotate-180":""}`})]})})]})]}),e.jsx("div",{className:"hidden print:block",children:e.jsx("div",{className:"flex flex-wrap -mx-2 mt-2 pt-4 border-t border-gray-300 dark:border-gray-700",children:[...k,...j].map(y=>e.jsx("div",{className:"w-1/2 px-2 mb-4 ",children:e.jsx(Se,{chart:y})},`print-${y.type}`))})})]}),e.jsxs("div",{className:"space-y-4 print:space-y-2 print:pt-2",children:[e.jsx(ne,{dashaSequence:a.dashaSequence,title:t.dashaPeriods}),a.tribhagiDasha?.length>0&&e.jsx(ne,{dashaSequence:a.tribhagiDasha,title:t.tribhagiDasha}),a.yoginiDasha?.length>0&&e.jsx(ne,{dashaSequence:a.yoginiDasha,title:t.yoginiDasha}),a.ashtottariDasha?.length>0&&e.jsx(ne,{dashaSequence:a.ashtottariDasha,title:t.ashtottariDasha}),a.jaiminiDasha?.length>0&&e.jsx(ne,{dashaSequence:a.jaiminiDasha,title:t.jaiminiDasha})]}),e.jsxs("div",{className:"hidden print:block text-center text-xs text-gray-500 pt-4 mt-8 border-t border-gray-300",children:[e.jsx("p",{children:"Printed from nepdate web/android application."}),e.jsx("p",{className:"mt-1",children:e.jsx("a",{href:"https://play.google.com/store/apps/details?id=com.khumnath.nepdate",className:"text-orange-600 underline",children:"https://play.google.com/store/apps/details?id=com.khumnath.nepdate"})}),e.jsxs("p",{children:["Â© ",new Date().getFullYear()," ",t.project]})]}),e.jsx("div",{className:"mt-8 mb-8 w-full px-4 text-center print:hidden",children:e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs("button",{className:"bg-orange-600 dark:bg-orange-600 text-white px-6 py-2 rounded shadow-md hover:bg-orange-700 transition flex items-center gap-2",onClick:l,children:["â† ",t.returnToForm]}),e.jsx("button",{className:"bg-amber-600 dark:bg-amber-500 text-white px-6 py-2 rounded shadow-md hover:bg-amber-700 transition flex items-center gap-2",onClick:()=>{d&&d("paramarsha",{source:"kundali",data:a})},children:"ðŸ§‘â€ðŸ« à¤ªà¤°à¤¾à¤®à¤°à¥à¤¶ (Consult)"}),e.jsxs("button",{className:"bg-gray-600 dark:bg-gray-500 text-white px-6 py-2 rounded shadow-md hover:bg-gray-700 transition flex items-center gap-2",onClick:()=>{window.Android?r(!0):he()},children:[e.jsx(Ue,{className:"w-4 h-4"})," ",t.print]})]})}),e.jsx(We,{isOpen:c,onClose:()=>r(!1),onPrint:he})]})},qt={name:"à¤¸à¥à¤°à¤œ",dateSystem:"BS",bsYear:2050,bsMonth:2,bsDay:2,hour:10,minute:15,second:0,period:"AM",location:{name:"à¤•à¤¾à¤ à¤®à¤¾à¤¡à¥Œà¤‚",romanization:"kathmandu",latitude:27.7172,longitude:85.324,offset:5.75,zoneId:"Asia/Kathmandu"}},Gt={name:"à¤…à¤®à¥à¤°à¤¿à¤¤à¤¾",dateSystem:"BS",bsYear:2053,bsMonth:8,bsDay:9,hour:2,minute:30,second:0,period:"PM",location:{name:"à¤•à¤¾à¤ à¤®à¤¾à¤¡à¥Œà¤‚",romanization:"kathmandu",latitude:27.7172,longitude:85.324,offset:5.75,zoneId:"Asia/Kathmandu"}},Qt=({onCalculate:a,isLoading:l,defaultValues:d})=>{const o=i.useRef(null),m=i.useRef(null),c=async()=>{const r=o.current?.validateAndGetData(),n=m.current?.validateAndGetData();if(r&&n){const[u,p]=await Promise.all([r,n]);u&&p&&a(u,p)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-50 rounded-xl shadow-lg p-4 dark:bg-gray-800/50",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-700 dark:text-blue-300 mb-4 text-center",children:t.groomDetails}),e.jsx(He,{ref:o,onCalculate:()=>{},isLoading:!1,hideSubmitButton:!0,defaultValues:d?.groom||qt})]}),e.jsxs("div",{className:"bg-slate-50 rounded-xl shadow-lg p-4 dark:bg-gray-800/50",children:[e.jsx("h2",{className:"text-xl font-bold text-pink-700 dark:text-pink-400 mb-4 text-center",children:t.brideDetails}),e.jsx(He,{ref:m,onCalculate:()=>{},isLoading:!1,hideSubmitButton:!0,defaultValues:d?.bride||Gt})]})]}),e.jsx("div",{className:"pt-4 pb-16",children:e.jsx("button",{type:"button",onClick:c,disabled:l,className:"w-full flex justify-center items-center py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:bg-gray-400 disabled:cursor-not-allowed dark:bg-orange-600 dark:hover:bg-orange-700 dark:disabled:bg-gray-500",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"w-5 h-5 mr-3 animate-spin"}),t.calculating]}):t.calculateComparison})})]})},z=({label:a,groomValue:l,brideValue:d,typeLabel:o,maxPoints:m,obtainedPoints:c})=>e.jsxs("tr",{className:"border-b border-amber-100 dark:border-stone-700 last:border-b-0",children:[e.jsx("td",{className:"py-2 font-medium text-stone-800 dark:text-stone-100",children:a}),e.jsx("td",{className:"py-2 text-stone-700 dark:text-stone-200",children:l}),e.jsx("td",{className:"py-2 text-stone-700 dark:text-stone-200",children:d}),e.jsx("td",{className:"py-2 text-center text-blue-600 dark:text-blue-400 font-medium",children:o??""}),e.jsx("td",{className:"py-2 text-center text-stone-700 dark:text-stone-200",children:b(m)}),e.jsx("td",{className:"py-2 text-center font-semibold text-stone-800 dark:text-stone-100",children:b(c)})]}),ea=({result:a,onReturnToForm:l,onNavigate:d})=>{const[o,m]=i.useState(!1),{groom:c,bride:r,score:n,conclusion:u,labels:p}=a,h=new Date,x=T(h),v=`${b(x.year)} ${le[x.monthIndex]} ${b(x.day)}`,k=h.toLocaleTimeString("ne-NP",{hour:"numeric",minute:"2-digit",hour12:!0});return e.jsxs("div",{className:"kundali-display-container flex flex-col bg-slate-200 print:bg-white rounded-xl shadow-lg w-full lg:max-w-4xl xl:max-w-6xl lg:p-4 md:p-1 space-y-4 text-sm md:text-base dark:bg-gray-800 dark:text-gray-200 dark:border dark:border-gray-700 pb-32 print:pb-0 print:m-0 print:rounded-none print:shadow-none",children:[e.jsxs("header",{className:"kundali-card rounded-lg text-center p-4 dark:bg-gray-800 print:bg-white print:shadow-none",children:[e.jsxs("h2",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[c.birthDetails.name," à¤° ",r.birthDetails.name," à¤•à¥‹ à¤—à¥à¤£ à¤®à¤¿à¤²à¤¾à¤¨"]}),e.jsxs("div",{className:"hidden text-xs self-center print:block font-bold text-gray-700 dark:text-gray-400",children:[t.printedDate,": ",v," ",k]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(De,{data:c,title:t.groomDetails,titleClassName:"text-blue-700 dark:text-blue-300"}),e.jsx(De,{data:r,title:t.brideDetails,titleClassName:"text-pink-700 dark:text-pink-400"})]}),e.jsxs("div",{className:"kundali-card p-3 sm:p-5 rounded-lg overflow-x-auto bg-slate-200 dark:bg-gray-800 print:bg-white print:shadow-none",children:[e.jsx("h3",{className:"text-xl font-bold text-orange-600 dark:text-orange-400 mb-4",children:t.gunaMilanTableTitle}),e.jsxs("table",{className:"w-full text-left text-sm sm:text-base",children:[e.jsx("thead",{className:"border-b-2 border-amber-200 dark:border-amber-700 text-stone-600 dark:text-stone-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-2",children:t.koota}),e.jsx("th",{className:"py-2 px-2",children:t.groom}),e.jsx("th",{className:"py-2 px-2",children:t.bride}),e.jsx("th",{className:"py-2 px-2 text-center",children:t.kootaType}),e.jsx("th",{className:"py-2 px-2 text-center",children:t.maxPoints}),e.jsx("th",{className:"py-2 px-2 text-center",children:t.obtainedPoints})]})}),e.jsxs("tbody",{children:[e.jsx(z,{label:t.varna,groomValue:c.ashtaKoota.varna,brideValue:r.ashtaKoota.varna,typeLabel:p.varnaLabel,maxPoints:1,obtainedPoints:n.varna}),e.jsx(z,{label:t.vasya,groomValue:c.ashtaKoota.vasya,brideValue:r.ashtaKoota.vasya,typeLabel:p.vasyaLabel,maxPoints:2,obtainedPoints:n.vasya}),e.jsx(z,{label:t.tara,groomValue:c.nakshatra.nameNepali,brideValue:r.nakshatra.nameNepali,typeLabel:p.taraLabel,maxPoints:3,obtainedPoints:n.tara}),e.jsx(z,{label:t.yoni,groomValue:c.ashtaKoota.yoni,brideValue:r.ashtaKoota.yoni,typeLabel:p.yoniLabel,maxPoints:4,obtainedPoints:n.yoni}),e.jsx(z,{label:t.grahaMaitri,groomValue:c.ashtaKoota.rashiLord,brideValue:r.ashtaKoota.rashiLord,typeLabel:p.grahaMaitriLabel,maxPoints:5,obtainedPoints:n.grahaMaitri}),e.jsx(z,{label:t.gana,groomValue:c.ashtaKoota.gana,brideValue:r.ashtaKoota.gana,typeLabel:p.ganaLabel,maxPoints:6,obtainedPoints:n.gana}),e.jsx(z,{label:t.bhakoot,groomValue:E[c.planets.find(j=>j.planet==="MOON").rashi-1],brideValue:E[r.planets.find(j=>j.planet==="MOON").rashi-1],typeLabel:p.bhakootLabel,maxPoints:7,obtainedPoints:n.bhakoot}),e.jsx(z,{label:t.nadi,groomValue:c.ashtaKoota.nadi,brideValue:r.ashtaKoota.nadi,typeLabel:p.nadiLabel,maxPoints:8,obtainedPoints:n.nadi})]}),e.jsx("tfoot",{className:"border-t-2 border-amber-300 dark:border-amber-600 font-bold",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"py-2 px-2 text-right text-stone-800 dark:text-stone-100",children:t.totalPoints}),e.jsx("td",{className:"px-2 text-center text-stone-800 dark:text-stone-100",children:b(36)}),e.jsx("td",{className:"px-2 text-center text-lg text-orange-600 dark:text-orange-400",children:b(n.total)})]})})]})]}),e.jsxs("div",{className:"kundali-card rounded-lg bg-slate-200 dark:bg-gray-800 print:bg-white print:shadow-none",children:[e.jsx("h3",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:t.conclusion}),e.jsx("p",{className:"text-stone-800 dark:text-stone-100",children:u})]}),e.jsxs("div",{className:"hidden print:block text-center text-xs text-gray-500 pt-4 mt-8 border-t border-gray-300",children:[e.jsx("p",{children:"Printed from nepdate web/android application."}),e.jsxs("p",{className:"mt-1",children:[e.jsx("a",{href:"https://play.google.com/store/apps/details?id=com.khumnath.nepdate",className:"text-orange-600 underline",children:"https://play.google.com/store/apps/details?id=com.khumnath.nepdate"}),e.jsx("br",{}),"Â© ",new Date().getFullYear()," ",t.project]})]}),e.jsxs("div",{className:"mt-8 mb-8 w-full px-4 text-center screen-only-footer print:hidden",children:[e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs("button",{className:"bg-orange-600 dark:bg-orange-600 text-white px-6 py-2 rounded shadow-md hover:bg-orange-700 dark:hover:bg-orange-800 transition flex items-center gap-2",onClick:l,children:["â† ",t.returnToForm]}),e.jsx("button",{className:"bg-amber-600 dark:bg-amber-500 text-white px-6 py-2 rounded shadow-md hover:bg-amber-700 transition flex items-center gap-2",onClick:()=>{d&&d("paramarsha",{source:"guna-milan",data:a})},children:"ðŸ§‘â€ðŸ« à¤ªà¤°à¤¾à¤®à¤°à¥à¤¶ (Consult)"}),e.jsx("button",{className:"bg-gray-600 dark:bg-gray-500 text-white px-6 py-2 rounded shadow-md hover:bg-gray-700 dark:hover:bg-gray-600 transition flex items-center gap-2",onClick:()=>{window.Android?m(!0):he()},children:e.jsx(Ue,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 md:hidden",children:t.mobilePrintHint})]}),e.jsx(We,{isOpen:o,onClose:()=>m(!1),onPrint:he})]})},ta=({onClose:a,onEdit:l,onView:d})=>{const[o,m]=i.useState([]);i.useEffect(()=>{try{const n=localStorage.getItem("savedKundalis");n&&m(JSON.parse(n))}catch(n){console.error("Failed to load saved kundalis:",n)}},[]);const c=n=>{if(window.confirm(t.deleteConfirm)){const u=o.filter(p=>p.id!==n);m(u),localStorage.setItem("savedKundalis",JSON.stringify(u))}},r=n=>{const u=new Date(n);return new Intl.DateTimeFormat("ne-NP-u-nu-deva",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(u)};return e.jsx("div",{className:"fixed inset-0 flex flex-wrap items-center justify-center bg-black/60 z-50 p-4 transition-opacity",onClick:a,children:e.jsxs("div",{className:"bg-slate-200 dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full max-h-[80vh] flex flex-wrap flex-col p-6",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-500 dark:text-blue-400",children:t.savedKundalis}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(Ce,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"overflow-y-auto flex-1",children:o.length===0?e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-10",children:t.noSavedKundalis}):e.jsx("ul",{className:"space-y-3",children:o.map(n=>e.jsx("li",{className:"bg-slate-50 dark:bg-gray-700 p-3 rounded-md shadow-sm",children:e.jsxs("div",{className:"flex flex-wrap justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-blue-600 dark:text-blue-300",children:n.type==="individual"?n.name:`${n.groomName} à¤° ${n.brideName}`}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${n.type==="individual"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"}`,children:n.type==="individual"?t.individual:t.comparison}),e.jsxs("span",{className:"ml-2",children:[t.savedOn," ",r(n.timestamp)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx("button",{onClick:()=>d(n),className:"px-3 py-1 text-sm text-white bg-blue-500 rounded hover:bg-blue-600",children:t.view}),e.jsx("button",{onClick:()=>l(n),className:"px-3 py-1 text-sm text-gray-700 bg-gray-300 rounded hover:bg-gray-400 dark:bg-gray-500 dark:text-gray-100 dark:hover:bg-gray-400",children:t.edit}),e.jsx("button",{onClick:()=>c(n.id),className:"px-3 py-1 text-sm text-white bg-red-500 rounded hover:bg-red-600",children:t.delete})]})]})},n.id))})})]})})};export{ea as C,Jt as K,We as P,ta as S,Qt as a,He as b};
